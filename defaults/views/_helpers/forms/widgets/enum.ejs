<%
// receives (field, fieldName, first)
%><select name="<%= fieldName %>"<% if (first) { %> autofocus<% } %> class="form-control">
<?
(function() {
	var values = <%- JSON.stringify(field.values) %>;
	var valueLabels = <%- JSON.stringify(field.valueLabels || null) %>;
<%
if (field.required) {
%>	if (value == '' || values.indexOf(value) == -1) {
		?>  <option value="" selected></option>
<?
	}
?><%
} else {
%>	?>  <option value=""<? if (value == '') { ?> selected<? } ?>>(none)</option>
<%
}
%><?
	_.forEach(values, function(item, itemNum) {
		?>  <option value="<?= item ?>"<? if (value == item) { ?> selected<? } ?>><?= valueLabels ? valueLabels[itemNum] : item ?></option>
<?
	});
})();
?></select>